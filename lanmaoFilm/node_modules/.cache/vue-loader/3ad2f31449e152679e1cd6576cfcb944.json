{"remainingRequest":"D:\\Vue\\vuepro\\miaomiao\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Vue\\vuepro\\miaomiao\\src\\components\\CiList\\index.vue?vue&type=style&index=0&id=35160c52&scoped=true&lang=css&","dependencies":[{"path":"D:\\Vue\\vuepro\\miaomiao\\src\\components\\CiList\\index.vue","mtime":1584190366914},{"path":"D:\\Vue\\vuepro\\miaomiao\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Vue\\vuepro\\miaomiao\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\Vue\\vuepro\\miaomiao\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\Vue\\vuepro\\miaomiao\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Vue\\vuepro\\miaomiao\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KI2NvbnRlbnQgLmNpbmVtYV9ib2R5eyBmbGV4OjE7IG92ZXJmbG93OiBhdXRvO30NCi5jaW5lbWFfYm9keSB1bHsgbWFyZ2luOiAwIDEycHg7IG92ZXJmbG93OiBoaWRkZW47fQ0KLmNpbmVtYV9ib2R5IGxpeyBib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZTZlNmU2OyBtYXJnaW4tYm90dG9tOiAyMHB4O30NCi5jaW5lbWFfYm9keSBkaXZ7IG1hcmdpbi1ib3R0b206IDEwcHg7fQ0KLmNpbmVtYV9ib2R5IC5xeyBmb250LXNpemU6IDExcHg7IGNvbG9yOiAjZjAzZDA3O30NCi5jaW5lbWFfYm9keSAucHJpY2V7IGZvbnQtc2l6ZTogMThweDt9DQouY2luZW1hX2JvZHkgLmFkZHJlc3N7IGZvbnQtc2l6ZTogMTNweDsgY29sb3I6ICM2NjY7fQ0KLmNpbmVtYV9ib2R5IC5hZGRyZXNzIHNwYW46bnRoLW9mLXR5cGUoMil7IGZsb2F0OnJpZ2h0O30NCi5jaW5lbWFfYm9keSAuY2FyZHsgZGlzcGxheTogZmxleDt9DQouY2luZW1hX2JvZHkgLmNhcmQgZGl2e21hcmdpbi1yaWdodDogNnB4OyBwYWRkaW5nOjNweDsgaGVpZ2h0OiAxMnB4OyBsaW5lLWhlaWdodDogMTJweDsgZm9udC1zaXplOjEycHg7IGJvcmRlci1yYWRpdXM6IDJweDsgY29sb3I6I2Y5MDsgYm9yZGVyOiAxcHggc29saWQgI2Y5MDt9DQouY2luZW1hX2JvZHkgLmNhcmQgZGl2Lm9yeyBjb2xvcjogI2Y5MDsgYm9yZGVyOjFweCBzb2xpZCAjZjkwO30NCi5jaW5lbWFfYm9keSAuY2FyZCBkaXYuYmx7IGNvbG9yOiAjNTg5ZGFmOyBib3JkZXI6IDFweCBzb2xpZCAjNTg5ZGFmO30NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/CiList","sourcesContent":["<template>            \r\n    <div class=\"cinema_body\">\r\n        <Loading v-if=\"isLoading\"></Loading>  \r\n        <Scroller>\r\n            <ul>\r\n                <!-- <li>\r\n                    <div>\r\n                        <span>大地影院(澳东世纪店)</span>\r\n                        <span class=\"q\"><span class=\"price\">22.9</span> 元起</span>\r\n                        <div class=\"adress\">\r\n                            <span>金州区大连经济技术开发区澳东世纪3层</span>\r\n                            <span>1763.5km</span>\r\n                        </div>\r\n                        <div class=\"card\">\r\n                            <div>小吃</div>\r\n                            <div>折扣卡</div>\r\n                        </div>\r\n                    </div>\r\n                </li>            -->\r\n                <li v-if=\"cinemaList == ''\">{{errMessge}}</li> \r\n                \r\n                <li v-for=\"item in cinemaList\" :key=\"item.id\">\r\n                    \r\n                    <div>\r\n                        <span>{{ item.nm}}</span>\r\n                        <span class=\"q\"><span class=\"price\">{{ item.sellPrice }}</span> 元起</span>\r\n                        <div class=\"adress\">\r\n                            <span>{{ item.addr}}</span>\r\n                            <span>{{ item.distance }}</span>\r\n                        </div>\r\n                        <div class=\"card\">\r\n                            <div v-for=\"(num,key) in item.tag\" :key=\"key\" :class=\" key | classCard\" v-if=\"num===1\">{{ key | formatCard }}</div>\r\n                        </div>\r\n                    </div>\r\n                </li>   \r\n            </ul>\r\n        </Scroller>\r\n    </div>   \r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name : 'Clist',\r\n    \r\n    data(){        \r\n        return {\r\n            cinemaList : [],\r\n            errMessge : '',\r\n            isLoading : true,\r\n            prevCityId : -1\r\n        }\r\n    },\r\n    activated(){\r\n         var cityId = this.$store.state.city.id;        \r\n         console.log(cityId,this.$store.state.city.nm);\r\n        if ( this.prevCityId === cityId ){ return; }\r\n        this.isLoading = true;    \r\n        this.axios.get('/api/cinemaList?cityId=' + cityId).then((res)=>{\r\n        console.log(cityId,res);\r\n            var msg = res.data.msg;\r\n            var data = res.data.data;\r\n            if(msg === 'ok'){               \r\n                if(data.cinemas) {\r\n                    this.cinemaList = data.cinemas;\r\n                    this.isLoading = false; \r\n                    this.prevCityId = cityId; \r\n                }else{\r\n                    this.errMessge = '暂无数据';\r\n                    this.isLoading = false;\r\n                    var newData = {\r\n                        msg : 'ok',\r\n                        status : 0,\r\n                        data : {\r\n                            cinemas : [\r\n                                {\r\n                                    id : 17158,\r\n                                    mark : 0,\r\n                                    nm : '(测试)JIA(嘉莱影城九亭店)',\r\n                                    sellPrice : 18,\r\n                                    addr : '松江区地铁九号线九亭站地铁二号口内(地下一层)',\r\n                                    distance : '1071km',\r\n                                    tag : {\r\n                                        allowRefund : 1,\r\n                                        buout : 0,\r\n                                        cityCardTag : 0,\r\n                                        deal : 0,\r\n                                        endorse : 1,\r\n                                        hallTypeWList : [],\r\n                                        sell : 1,\r\n                                        snack : 1,\r\n                                        vipTag : '折扣卡'\r\n                                    },\r\n                                    promotion: {\r\n                                        cardPromotinTag : '开卡特惠，首单2张立减10元'\r\n                                    }\r\n                                },\r\n                                {\r\n                                    id : 16620,\r\n                                    mark : 0,\r\n                                    nm : '星铁IMAX影城(九亭U天地旗舰店)',\r\n                                    sellPrice : 18,\r\n                                    addr : '松江区九亭镇蒲汇路178弄九亭U天地2楼',\r\n                                    distance : '1071.2km',\r\n                                    tag : {\r\n                                        allowRefund : 1,\r\n                                        buout : 0,\r\n                                        cityCardTag : 0,\r\n                                        deal : 0,\r\n                                        endorse : 1,\r\n                                        hallTypeWList : [],\r\n                                        sell : 1,\r\n                                        snack : 1,\r\n                                        vipTag : '折扣卡'\r\n                                    },\r\n                                    promotion: {\r\n                                        cardPromotinTag : '开卡特惠，首单2张立减10元'\r\n                                    }\r\n                                },{\r\n                                    id : 17159,\r\n                                    mark : 0,\r\n                                    nm : '(测试2)JIA(嘉莱影城九亭店)',\r\n                                    sellPrice : 18,\r\n                                    addr : '松江区地铁九号线九亭站地铁二号口内(地下一层)',\r\n                                    distance : '1071km',\r\n                                    tag : {\r\n                                        allowRefund : 1,\r\n                                        buout : 0,\r\n                                        cityCardTag : 0,\r\n                                        deal : 0,\r\n                                        endorse : 1,\r\n                                        hallTypeWList : [],\r\n                                        sell : 1,\r\n                                        snack : 1,\r\n                                        vipTag : '折扣卡'\r\n                                    },\r\n                                    promotion: {\r\n                                        cardPromotinTag : '开卡特惠，首单2张立减10元'\r\n                                    }\r\n                                },\r\n                                {\r\n                                    id : 16621,\r\n                                    mark : 0,\r\n                                    nm : '星铁IMAX影城2(九亭U天地旗舰店)',\r\n                                    sellPrice : 18,\r\n                                    addr : '松江区九亭镇蒲汇路178弄九亭U天地2楼',\r\n                                    distance : '1071.2km',\r\n                                    tag : {\r\n                                        allowRefund : 1,\r\n                                        buout : 0,\r\n                                        cityCardTag : 0,\r\n                                        deal : 0,\r\n                                        endorse : 1,\r\n                                        hallTypeWList : [],\r\n                                        sell : 1,\r\n                                        snack : 1,\r\n                                        vipTag : '折扣卡'\r\n                                    },\r\n                                    promotion: {\r\n                                        cardPromotinTag : '开卡特惠，首单2张立减10元'\r\n                                    }\r\n                                },\r\n                                {\r\n                                    id : 16622,\r\n                                    mark : 0,\r\n                                    nm : '星铁IMAX影城2(九亭U天地旗舰店)',\r\n                                    sellPrice : 18,\r\n                                    addr : '松江区九亭镇蒲汇路178弄九亭U天地2楼',\r\n                                    distance : '1071.2km',\r\n                                    tag : {\r\n                                        allowRefund : 1,\r\n                                        buout : 0,\r\n                                        cityCardTag : 0,\r\n                                        deal : 0,\r\n                                        endorse : 1,\r\n                                        hallTypeWList : [],\r\n                                        sell : 1,\r\n                                        snack : 1,\r\n                                        vipTag : '折扣卡'\r\n                                    },\r\n                                    promotion: {\r\n                                        cardPromotinTag : '开卡特惠，首单2张立减10元'\r\n                                    }\r\n                                }\r\n\r\n\r\n                            ]\r\n                        }\r\n                    }\r\n                    this.cinemaList = newData.data.cinemas;\r\n                }            \r\n            }\r\n            \r\n        });  \r\n    },\r\n    filters : {\r\n        formatCard(key){\r\n            var card = [\r\n                { key : 'allowRefund', value :　'改签' },\r\n                { key : 'endorse' , value : '退' },\r\n                { key : 'sell' , value : '折扣卡' },\r\n                { key : 'snack' , value : '小吃' }            \r\n\r\n            ];\r\n            for(var i=0;i<card.length;i++){\r\n                if(card[i].key === key){\r\n                    return card[i].value;\r\n                }\r\n            }\r\n            return '';\r\n        },\r\n        classCard(key){\r\n            var card = [\r\n                { key : 'allowRefund', value :　'bl' },\r\n                { key : 'endorse' , value : 'bl' },\r\n                { key : 'sell' , value : 'or' },\r\n                { key : 'snack' , value : 'or' }            \r\n\r\n            ];\r\n            for(var i=0;i<card.length;i++){\r\n                if(card[i].key === key){\r\n                    return card[i].value;\r\n                }\r\n            }\r\n            return '';\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#content .cinema_body{ flex:1; overflow: auto;}\r\n.cinema_body ul{ margin: 0 12px; overflow: hidden;}\r\n.cinema_body li{ border-bottom:1px solid #e6e6e6; margin-bottom: 20px;}\r\n.cinema_body div{ margin-bottom: 10px;}\r\n.cinema_body .q{ font-size: 11px; color: #f03d07;}\r\n.cinema_body .price{ font-size: 18px;}\r\n.cinema_body .address{ font-size: 13px; color: #666;}\r\n.cinema_body .address span:nth-of-type(2){ float:right;}\r\n.cinema_body .card{ display: flex;}\r\n.cinema_body .card div{margin-right: 6px; padding:3px; height: 12px; line-height: 12px; font-size:12px; border-radius: 2px; color:#f90; border: 1px solid #f90;}\r\n.cinema_body .card div.or{ color: #f90; border:1px solid #f90;}\r\n.cinema_body .card div.bl{ color: #589daf; border: 1px solid #589daf;}\r\n</style>\r\n"]}]}